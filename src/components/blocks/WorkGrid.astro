---
import PageContainer from "../layout/PageContainer.astro";

type Item = { title: string; excerpt: string; image: string; href: string };
type Props = { items: Item[]; title?: string; backgroundClass?: string };

const {
  items = [],
  title = "Recent work",
  backgroundClass = "bg-[--surface-muted]",
} = Astro.props as Props;
---

<section class={backgroundClass} aria-labelledby="work-heading">
  <PageContainer>
    <h2 id="work-heading" class="text-3xl sm:text-4xl font-bold">{title}</h2>

    {
      items.length === 0 ? (
        <p class="mt-6 text-slate-600">No projects yet.</p>
      ) : (
        <ul class="mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {items.map((p) => (
            <li class="rounded-2xl border border-[--border] bg-white overflow-hidden">
              <a
                href={p.href}
                class="block focus:outline-none focus:ring-4 focus:ring-blue-300"
              >
                <div class="aspect-video bg-black">
                  <img
                    src={p.image}
                    alt={p.title}
                    class="w-full h-full object-cover"
                    loading="lazy"
                    decoding="async"
                  />
                </div>
                <div class="p-5">
                  <h3 class="text-lg font-semibold">{p.title}</h3>
                  <p class="mt-1 text-slate-600">{p.excerpt}</p>
                </div>
              </a>
            </li>
          ))}
        </ul>
      )
    }
  </PageContainer>
</section>
