---
import PageContainer from "../layout/PageContainer.astro";

type Props = {
  headline?: string;
  subhead?: string;
  buttonText?: string;
  buttonHref?: string;
  showMedia?: boolean; // toggle media column
  imageUrl?: string; // optional quick image
  imageAlt?: string;
};

const {
  headline = "Win more local customers",
  subhead = "Clean, fast, SEO-first websites with clear calls to action.",
  buttonText = "Get a free quote",
  buttonHref = "/contact",
  showMedia = false,
  imageUrl,
  imageAlt = "",
} = Astro.props as Props;

// if a media slot is provided OR an imageUrl is set, weâ€™ll render the right column
const hasMediaSlot = !!Astro.slots.has("media");
const renderMedia = showMedia && (hasMediaSlot || imageUrl);
---

<header class="pt-20 pb-16">
  <PageContainer>
    <div class="grid gap-8 lg:grid-cols-12 items-center">
      <div class="lg:col-span-7">
        <h1 class="text-4xl sm:text-6xl font-extrabold">{headline}</h1>
        <p class="mt-6 text-lg text-slate-600">{subhead}</p>
        <a href={buttonHref} class="inline-block mt-8">
          <button
            class="h-12 px-6 rounded-2xl bg-[--color-brand] text-white font-semibold hover:opacity-90"
          >
            {buttonText}
          </button>
        </a>
      </div>

      {
        renderMedia && (
          <div class="lg:col-span-5">
            <div class="aspect-video overflow-hidden rounded-2xl bg-slate-100">
              {hasMediaSlot ? (
                <slot name="media" />
              ) : imageUrl ? (
                <img
                  src={imageUrl}
                  alt={imageAlt}
                  class="h-full w-full object-cover"
                  loading="lazy"
                  decoding="async"
                />
              ) : null}
            </div>
          </div>
        )
      }
    </div>
  </PageContainer>
</header>
